/** 
 * besoin d'une table de loot avec le % de chance de drop l'objets 
 * - Potion ğŸ§ª 40%
 * - Morceau d'Ã©toile âœ¨ 25%
 * - Demi-Ã©toile ğŸŒŸ 10%
 * - Ether ğŸ’Š 15%
 * mimic ou mimique 10% (15 dÃ©gat)
 * 
 * puis afficher un rÃ©capitulatif des objets gagner 
 *      
 */


/** random loot :
 * - random loot utilisant la tableLoot
 * - fonction utilisant 2 fois le rand
 * - faire un message disant quel objets choisi pour ensuite le mettre dans un message disant ce qui a Ã©tÃ© obtenu
 */

 /**fonction rencontre mimique :
  * - si mimic looter :
  *   - autre loot annuler
  *   - 15 dÃ©gat prit 
 */

import item from "./item/item.ts";
import Character from "./character/Character.ts";

import GameManager from "./GameManager";
class chest {

    constructor() {
        const rand = Math.floor(Math.random() * (100 - 0 + 1) + 0)
        if (0 < rand && rand <= 40) {// 40% d'obtenir une potion
            GameManager.instance.addItem("Potion ğŸ§ª")
            this.chest()
        } else if (40 < rand && rand <= 65) {// 25% d'obtenir un fragment d'Ã©toile
            GameManager.instance.addItem("Morceau d'Ã©toile âœ¨")
            this.chest()
        } else if (65 < rand && rand <= 80) {// 15% d'obtenir un Ã©ther
            GameManager.instance.addItem("Ether ğŸ’Š")
            this.chest()
        } else if (80 < rand && rand <= 90) {// 10% d'obtenir une demi-Ã©toile
            GameManager.instance.addItem("Demi-Ã©toile ğŸŒŸ")
            this.chest()
        } else if (90 < rand && rand <= 100) {// 10% d'obtenir une attaque de mimic
            GameManager.instance.characters.forEach(caracter => {
                caracter.arm(15,"K")
            });
            this.mimic()
        }
    }
    chest() {
        const title = ["*******************************************************************************",
            "                          .=\"\"_;=.                                             ",
            "                       ,-\"_,=\"\"     `\"=.\"                                      ",
            "                       \"=._o`\"-._        \"=.                                  ",
            "                           `\"=._o`\"=._      _`\"=._                             ",
            "                                :=._o \"=._.\"_.-=\"'\"=.                          ",
            "                         __.--\" , ; `\"=._o.\" ,-\"\"\"-._ \".                       ",
            "                      ._\"  ,. .` ` `` ,  `\"-._\"-._   \". '                      ",
            "                      |o`\"=._` , \"` `; .\". ,  \"-._\"-._; ;                      ",
            "                      | ;`-.o`\"=._; .\" ` '`.\"\` . \"-._ /                       ",
            "                      | ;`-.o`\"=._; .\" ` '`.\"\` . \"-._ /                       ",
            "                      |o;    `\"-.o`\"=._``  '` \" ,__.--o;                       ",
            "                      | ;     (#) `-.o `\"=.`_.--\"_o.-; ;                       ",
            "____/______/______/___|o;._    \"      `\".o|o_.--\"    ;o;____/______/______/____",
            "/______/______/______/_\"=._o--._        ; | ;        ; ;/______/______/______/_",
            "____/______/______/______/__\"=._o--._   ;o|o;     _._;o;____/______/______/____",
            "/______/______/______/______/____\"=._o._; | ;_.--\"o.--\"_/______/______/______/_",
            "____/______/______/______/______/_____\"=.o|o_.--\"\"___/______/______/______/____",
            "/______/______/______/______/______/______/______/______/______/______/______/_",
            "*******************************************************************************" ]
        title.forEach(line => {
            console.log(line)
        });
    }

    mimic() {
        const title = ["*******************************************************************************",
            "â €â €â €â €â €â €â €â €â €â €â €â €             â €â €â €â €â €â €â €â ¿â£¿â£¦â¡€â €â €â €â €â €â €â €â €â €â¢€â£´â£¿â¡¿                      ",
            "â €â €â €â €â €â €â €                            â£€â£€â£¤â£¤â €â£‰â ‘â €â  â£¤â£¤â£¤â£¤â£¤â €â €â šâ¢‰â €â¡€â €â €â €             ",
            "â €â €                            â£ â£´â£¶â£¶â †â¢€â£ˆâ¡‰â ›â €â ‰â €â “â ’â ™â ›â ›â ›â ƒâ ’â ’â €â ‰â  â ¿â ¦â €â €            ",
            "                            â €â£¸â£¿â£¿â¡¿â ‹â£ â¡¿â ‹â €â¢¸â£¿â â¢¸â£¿â£¿â â¢»â£¿â ƒâ ˆâ¢¿â¡¿â €â£¶â£¶â €â£¶â¡¤â €           ",
            "â €                            â£¿â£¿â Ÿâ¢â£¼â Ÿâ¡â¢¾â£§â €â ‹â €â ˆâ¢¿â ‡â €â €â ƒâ €â €â ˜â â €â¢¸â¡Ÿâ €â ™â â €            ",
            "â €                           â ¸â ‹â£ â¡¿â ƒâ£´â¡‡â €â €â €â €â €â €â ˆâ €â €â €â €â €â €â €â €â €â ˜â â €â €â €â €               ",
            "â €â €                          â¢°â¡Ÿâ €â¢€â €â ‰â¡€â €â €â €â €â €â£°â €â €â €â €â €â €â €â €â €â£†â €â €â €â €â €                 ",
            "â €â €â €â €                       â °â£¿â¡„â£´â£‡â €â£°â£‡â €â£°â£¿â¡‡â €â£´â¡„â €â¢°â£†â €â¢°â£¿â¡„â¢ â£·â¡€â €                 ",
            "â €â €â €                       â£¶â£¶â£¤â£¤â£â¡‰â¢€â£‰â ™â €â ›â ›â “â â ›â “â €â ›â ›â ‚â šâ ›â â£ˆâ£‰â â €                 ",
            "â €â €                       â €â£¿â£¿â£¿â£¿â£¿â â£¼â£¿â£¿â£¿â£¿â£¿â¡‡â¢¸â£¿â Ÿâ£¿â¡‡â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â €â €                ",
            "____/______/______/______/ â£¿â£¿â£¿â£¿â£¿â â£¼â£¿â£¿â£¿â£¿â£¿â¡‡â¢¸â£¿â Ÿâ£¿â¡‡â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â €___/______/____/_",
            "/______/______/___/______/â €â ¸â£¿â£¿â£¿â£¿â €â£¿â£¿â£¿â£¿â£¿â£¿â¡‡â¢¸â£¿â „â£¿â¡‡â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â €/______/______/__",
            "____/______/______/______/ â „â ¹â£¿â¡¿â ‹â €â ™â¢¿â£¿â£¿â£¿â£¿â¡‡â¢¸â£¿â£¤â£¿â¡‡â¢¸â£¿â£¿â£¿â£¿â£¿â Ÿâ €____/______/_____",
            "/______/______/______/______/ â ‰â €â ºâ €â£§â¡ˆâ¢»â£¿â£¿â£¿â£·â£¶â£¶â£¶â£¶â£¶â£¾â£¿â£¿â£¿â¡¿â ƒâ£°_/______/____/____",
            "____/______/______/______/______/____ â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ______/______/______/_",
            "/______/______/______/______/______/______/______/______/______/______/______/_",
            "*******************************************************************************",]
            title.forEach(line => {
                console.log(line)
            });
        }
    }
  



console.log(`you have gain ${item} and ${item}`)

/**  
 * puis afficher un rÃ©capitulatif des objets gagner 
*/
